---
import type { GetStaticPaths } from "astro";
import type { MarkdownPost } from '../../env';
import Layout from '../../layouts/Layout.astro';
import PostFilter from '../../components/PostFilter.jsx';

const postImports: Record<string, MarkdownPost> = import.meta.glob(
    '../../content/**/*.md',
    { eager: true }
);

const posts = Object.values(postImports).sort((a, b) => {
         return new Date(b.frontmatter.date).getTime() - new Date(a.frontmatter.date).getTime()
        });
---

<Layout>
    <PostFilter posts={posts} client:load/>
</Layout>
